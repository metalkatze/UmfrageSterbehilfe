<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sterbehilfe Umfrage</title>
    <style>
        body {
            background-color: #191970;
            color: white;
            font-family: Helvetica, sans-serif;
        }

        h1 {
            font-size: 16px;
        }

        label {
            font-size: 14px;
            font-weight: bold;
        }

        .form-container {
            margin: 20px;
        }

        .form-field {
            background-color: #ADD8E6;
            color: #000000;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        input[type="radio"],
        input[type="checkbox"] {
            margin-right: 10px;
        }

        input[type="submit"] {
            background-color: #ADD8E6;
            color: #000000;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-family: Helvetica, sans-serif;
            font-size: 14px;
            font-weight: bold;
        }

        input[type="submit"]:hover {
            background-color: #87CEEB;
        }

        .tooltip {
            display: none;
            position: absolute;
            background-color: white;
            color: black;
            padding: 5px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>

<body>
    <div class="form-container">
        <h1>Sterbehilfe Umfrage</h1>
        <form id="surveyForm">

            <!-- Frage 1 -->
            <div class="form-field">
                <label>1. Wie alt bist du?</label><br>
                <div>
                    <label><input type="radio" name="age" value="Unter 18" onchange="lockThis(this)">Unter 18</label><br>
                    <label><input type="radio" name="age" value="18-29" onchange="lockThis(this)">18-29</label><br>
                    <label><input type="radio" name="age" value="30-39" onchange="lockThis(this)">30-39</label><br>
                    <label><input type="radio" name="age" value="40-49" onchange="lockThis(this)">40-49</label><br>
                    <label><input type="radio" name="age" value="50-59" onchange="lockThis(this)">50-59</label><br>
                    <label><input type="radio" name="age" value="60 oder älter" onchange="lockThis(this)">60 oder älter</label>
                </div>
            </div>

            <!-- Frage 2 -->
            <div class="form-field">
                <label>2. Welches Geschlecht hast du?</label><br>
                <div>
                    <label><input type="radio" name="gender" value="Weiblich" onchange="lockThis(this)">Weiblich</label><br>
                    <label><input type="radio" name="gender" value="Männlich" onchange="lockThis(this)">Männlich</label><br>
                    <label><input type="radio" name="gender" value="Divers" onchange="lockThis(this)">Divers</label>
                </div>
            </div>

            <!-- Frage 3 -->
            <div class="form-field">
                <label>3. Welcher Religion gehörst du an?</label><br>
                <div>
                    <label><input type="radio" name="religion" value="Christentum" onchange="lockThis(this)">Christentum</label><br>
                    <label><input type="radio" name="religion" value="Islam" onchange="lockThis(this)">Islam</label><br>
                    <label><input type="radio" name="religion" value="Judentum" onchange="lockThis(this)">Judentum</label><br>
                    <label><input type="radio" name="religion" value="Buddhismus" onchange="lockThis(this)">Buddhismus</label><br>
                    <label><input type="radio" name="religion" value="Hinduismus" onchange="lockThis(this)">Hinduismus</label><br>
                    <label><input type="radio" name="religion" value="Keine Religion" onchange="lockThis(this)">Keine Religion</label>
                </div>
            </div>

            <!-- Frage 4 -->
            <div class="form-field">
                <label>4. Weißt du, was Sterbehilfe ist?</label><br>
                <div>
                    <label><input type="radio" name="knowEuthanasia" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="knowEuthanasia" value="Nein" onchange="lockThis(this)">Nein</label>
                </div>
            </div>

            <!-- Frage 4a -->
            <div class="form-field" id="euthanasiaSupport" style="display:none;">
                <label>4a. Wenn ja, bist du dafür?</label><br>
                <div>
                    <label><input type="radio" name="supportEuthanasia" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="supportEuthanasia" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="supportEuthanasia" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 5 -->
            <div class="form-field">
                <label>5. Hast du schon Erfahrungen mit Sterbehilfe?</label><br>
                <div>
                    <label><input type="radio" name="experienceEuthanasia" value="Ja, persönlich" onchange="lockThis(this)">Ja, persönlich</label><br>
                    <label><input type="radio" name="experienceEuthanasia" value="Ja, im Bekanntenkreis" onchange="lockThis(this)">Ja, im Bekanntenkreis</label><br>
                    <label><input type="radio" name="experienceEuthanasia" value="Nein" onchange="lockThis(this)">Nein</label>
                </div>
            </div>

            <!-- Frage 6 -->
            <div class="form-field">
                <label>6. Wer darf Sterbehilfe beanspruchen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaEligibility" value="Alle Personen, die schwer leidende, unheilbare Krankheiten haben" onchange="lockThis(this)">Alle Personen, die schwer leidende, unheilbare Krankheiten haben</label><br>
                    <label><input type="radio" name="euthanasiaEligibility" value="Nur Erwachsene in bestimmten Situationen" onchange="lockThis(this)">Nur Erwachsene in bestimmten Situationen</label><br>
                    <label><input type="radio" name="euthanasiaEligibility" value="Nur Menschen, die bei vollem Bewusstsein eine Entscheidung treffen können" onchange="lockThis(this)">Nur Menschen, die bei vollem Bewusstsein eine Entscheidung treffen können</label><br>
                    <label><input type="radio" name="euthanasiaEligibility" value="Niemand" onchange="lockThis(this)">Niemand</label>
                </div>
            </div>

            <!-- Frage 7 -->
            <div class="form-field">
                <label>7. Darf eine 90-Jährige Oma mit vielen Krankheiten (z. B. Demenz, Alzheimer, Krebs im Endstadium) Sterbehilfe erhalten?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaEligibility90" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaEligibility90" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaEligibility90" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 8 -->
            <div class="form-field">
                <label>8. Darf ein 9-Jähriges Kind mit Krebs Sterbehilfe in Anspruch nehmen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaEligibilityChild" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityChild" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityChild" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 9 -->
            <div class="form-field">
                <label>9. Darf ein 40-Jähriger Familienvater mit einem Schlaganfall (mit einseitiger Lähmung) Sterbehilfe beanspruchen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaEligibilityFather" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityFather" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityFather" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 10 -->
            <div class="form-field">
                <label>10. Darf eine 29-Jährige Frau mit Schizophrenie Sterbehilfe in Anspruch nehmen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaEligibilityWoman" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityWoman" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaEligibilityWoman" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 11 -->
            <div class="form-field">
                <label>11. Darf ein 35-Jähriger Soldat mit PTBS (Posttraumatischer Belastungsstörung) Sterbehilfe erhalten?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaPTBS" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaPTBS" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaPTBS" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 12 -->
            <div class="form-field">
                <label>12. Darf ein 7-Jähriges Kind mit bipolarer Störung Sterbehilfe beanspruchen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaBipolar" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaBipolar" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaBipolar" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 13 -->
            <div class="form-field">
                <label>13. Darf eine 52-Jährige Frau mit ME/CFS Sterbehilfe erhalten?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaMECFS" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaMECFS" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaMECFS" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 14 -->
            <div class="form-field">
                <label>14. Darf eine 14-Jährige mit Down-Syndrom Sterbehilfe beanspruchen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaDownSyndrome" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaDownSyndrome" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaDownSyndrome" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 15 -->
            <div class="form-field">
                <label>15. Darf ein 27-Jähriger Mann, der querschnittsgelähmt im Rollstuhl sitzt, Sterbehilfe in Anspruch nehmen?</label><br>
                <div>
                    <label><input type="radio" name="euthanasiaParalysis" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="euthanasiaParalysis" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="euthanasiaParalysis" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 16 -->
            <div class="form-field">
                <label>16. Wer darf darüber entscheiden?</label><br>
                <div>
                    <label><input type="radio" name="decisionMaker" value="Der Patient selbst" onchange="lockThis(this)">Der Patient selbst</label><br>
                    <label><input type="radio" name="decisionMaker" value="Familie oder gesetzliche Vertreter" onchange="lockThis(this)">Familie oder gesetzliche Vertreter</label><br>
                    <label><input type="radio" name="decisionMaker" value="Ärzte und Pfleger" onchange="lockThis(this)">Ärzte und Pfleger</label><br>
                    <label><input type="radio" name="decisionMaker" value="Ethikkommissionen" onchange="lockThis(this)">Ethikkommissionen</label>
                </div>
            </div>

            <!-- Frage 17 -->
            <div class="form-field">
                <label>17. Wer soll es durchführen?</label><br>
                <div>
                    <label><input type="radio" name="whoConducts" value="Ärzte" onchange="lockThis(this)">Ärzte</label><br>
                    <label><input type="radio" name="whoConducts" value="Pfleger" onchange="lockThis(this)">Pfleger</label><br>
                    <label><input type="radio" name="whoConducts" value="Der Patient selbst" onchange="lockThis(this)">Der Patient selbst</label><br>
                    <label><input type="radio" name="whoConducts" value="Familie oder gesetzliche Vertreter" onchange="lockThis(this)">Familie oder gesetzliche Vertreter</label>
                </div>
            </div>

            <!-- Frage 18 -->
            <div class="form-field">
                <label>18. Findest du Sterbehilfe moralisch vertretbar?</label><br>
                <div>
                    <label><input type="radio" name="moralEuthanasia" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="moralEuthanasia" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="moralEuthanasia" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Frage 19 -->
            <div class="form-field">
                <label>19. Wusstest du, dass andere Länder Sterbehilfe anbieten?</label><br>
                <div>
                    <label><input type="radio" name="knowOtherCountries" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="knowOtherCountries" value="Nein" onchange="lockThis(this)">Nein</label>
                </div>
            </div>

            <!-- Frage 20 -->
            <div class="form-field">
                <label>20. Bist du für Sterbehilfe?</label><br>
                <div>
                    <label><input type="radio" name="supportEuthanasiaFinal" value="Ja" onchange="lockThis(this)">Ja</label><br>
                    <label><input type="radio" name="supportEuthanasiaFinal" value="Nein" onchange="lockThis(this)">Nein</label><br>
                    <label><input type="radio" name="supportEuthanasiaFinal" value="Unsicher" onchange="lockThis(this)">Unsicher</label>
                </div>
            </div>

            <!-- Absenden Button -->
            <div class="form-field">
                <input type="submit" value="Absenden">
            </div>
        </form>

        <div class="tooltip" id="tooltip"></div>
    </div>

    <script>
        document.getElementById('surveyForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const formData = new FormData(event.target);
            let data = {};

            // Daten aus dem Formular sammeln und in JSON-Format umwandeln
            formData.forEach((value, key) => {
                data[key] = value;
            });

            const record = {
                fields: {
                    "Alter": data['age'],
                    "Geschlecht": data['gender'],
                    "Religion": data['religion'],
                    "Wissen über Sterbehilfe": data['knowEuthanasia'],
                    "Sterbehilfe Unterstützung": data['supportEuthanasia'],
                    "Erfahrung mit Sterbehilfe": data['experienceEuthanasia'],
                    "Sterbehilfe Anspruch": data['euthanasiaEligibility'],
                    "Sterbehilfe Oma": data['euthanasiaEligibility90'],
                    "Sterbehilfe Kind": data['euthanasiaEligibilityChild'],
                    "Sterbehilfe Familienvater": data['euthanasiaEligibilityFather'],
                    "Sterbehilfe Frau": data['euthanasiaEligibilityWoman'],
                    "Sterbehilfe Soldat": data['euthanasiaPTBS'],
                    "Sterbehilfe Bipolar": data['euthanasiaBipolar'],
                    "Sterbehilfe MECFS": data['euthanasiaMECFS'],
                    "Sterbehilfe Down-Syndrom": data['euthanasiaDownSyndrome'],
                    "Sterbehilfe Querschnittsgelähmt": data['euthanasiaParalysis'],
                    "Entscheider": data['decisionMaker'],
                    "Durchführer": data['whoConducts'],
                    "Moralische Vertretbarkeit": data['moralEuthanasia'],
                    "Wissen über andere Länder": data['knowOtherCountries'],
                    "Finale Unterstützung der Sterbehilfe": data['supportEuthanasiaFinal'],
                }
            };

            // Airtable API Setup
            const apiUrl = 'https://api.airtable.com/v0/YOUR_BASE_ID/YOUR_TABLE_NAME'; // Ersetze mit deiner Base ID und Tabellenname
            const apiKey = 'YOUR_API_KEY'; // Ersetze mit deinem API Key

            fetch(apiUrl, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(record)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error("Netzwerkantwort war nicht ok: " + response.statusText);
                }
                return response.json();
            })
            .then(data => {
                alert('Die Umfrage wurde erfolgreich abgeschickt.');
                document.getElementById('surveyForm').reset();
            })
            .catch(error => {
                console.error('Fehler beim Senden der Daten:', error);
                alert('Es gab ein Problem beim Absenden der Umfrage.');
            });
        });

        // Funktion zum Sperren der Radio-Fragen
        function lockThis(selected) {
            const name = selected.name;
            const radios = document.querySelectorAll(`input[name="${name}"]`);

            // Deaktiviere alle Radio-Buttons dieser Gruppe
            radios.forEach(radio => {
                radio.disabled = true;
            });

            // Frage 4a einblenden, wenn Ja ausgewählt ist
            if (name === "knowEuthanasia" && selected.value === "Ja") {
                document.getElementById("euthanasiaSupport").style.display = "block";
            } else if (name === "knowEuthanasia") {
                document.getElementById("euthanasiaSupport").style.display = "none";
            }
        }
    </script>
</body>

</html>
